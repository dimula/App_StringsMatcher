
{% extends 'base.html' %}

{% block title %} Strings Matcher {% endblock %}

{% block head %}
 {{ super() }}
{% endblock %}

{% block body %}

<h3>Strings Matcher</h3>

<!-- INPUT FORM -->
<br><h5>Upload your Excel files</h5>

<form method="post" enctype="multipart/form-data">
    <br><div class="container"><div class="form-row">
        <div class="col form-group">
            <h6>Lookup list
                <button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="left" title="List with values to be matched, in the left join that's the left side"><span class="fa fa-info-circle"></span></button>
            </h6>
            <div class="file-upload-wrapper">
                <input type="file" name="dtf_lookup" id="input-file-now" class="file-upload" required value={{request.form.dtf_lookup}}>
            </div>
        </div>
        
        <div class="col form-group">
            <h6>Match list
                <button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="left" title="List with values to match with, in the left join that's the right side"><span class="fa fa-info-circle"></span></button>
            </h6>
            <div class="file-upload-wrapper">
                <input type="file" name="dtf_match" id="input-file-now" class="file-upload" required value={{request.form.dtf_match}}>
            </div>
        </div>
    </div></div>
    <script>
        $(".file-upload").file_upload();
    </script>
    
    <br><h5>Similarity threshold
            <button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="left" title="..."><span class="fa fa-info-circle"></span></button>    
        </h5>
        <div class="form-row"><div class="col-md-1">
            <input type="text" name="threshold" class="form-control" placeholder="0.7" required value={{request.form.threshold}}>
        </div></div>
        
    <br><h5>Top matches
            <button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="left" title="..."><span class="fa fa-info-circle"></span></button>    
        </h5>
        <div class="form-row"><div class="col-md-1">
            <input type="text" name="top" class="form-control" placeholder="1" required value={{request.form.top}}>
        </div></div>
        
    <br><br><button type="submit" class="btn btn-primary" id="btnMatch">Match</button>
    <script>
        $("#btnMatch").click(function() {
            $(this).html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>');
        });
    </script>
</form>

{% endblock %}
